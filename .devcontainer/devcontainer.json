{
  "name": "Tailnet Podman Environment",
  "build": {
    "dockerfile": "../Dockerfile",
    "context": ".."
  },
  "features": {
    "ghcr.io/devcontainers-extra/features/podman-homebrew:1": {}
  },
  "containerEnv": {
    "ENGINE": "podman",
    "SUPPORT": "https://github.com/mayas-alas/tailnet"
  },
  "runArgs": [
    "--device=/dev/net/tun",
    "--privileged"
  ],
  "forwardPorts": [
    8006
  ],
  "portsAttributes": {
    "8006": {
      "label": "Web",
      "onAutoForward": "notify"
    }
  },
  "postCreateCommand": "/home/linuxbrew/.linuxbrew/bin/brew install podman-compose && sudo tailscale up --ssh --hostname=tailnet-dev"
}
